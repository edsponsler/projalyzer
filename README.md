# Projalyzer: AI-Powered Python Project Analysis Agent

Projalyzer is a multi-agent system built using the Google Agent Development Kit (ADK). It is designed to analyze any Python-based project, providing a high-level summary, actionable suggestions for improvement, a potential development roadmap, and new feature ideas.

This tool leverages a group of specialized AI agents that collaborate to produce a final, consolidated report, including ready-to-use prompts for the Gemini CLI to kickstart the recommended tasks.

## Capabilities

The Projalyzer system orchestrates several specialized agents to perform a comprehensive analysis:

1.  **Project Summarizer:** Reads the project's files (like `README.md`, source code, and configuration) to generate a high-level summary of its purpose, capabilities, and current development status.
2.  **Improvement Suggester:** Analyzes the codebase to suggest concrete improvements, such as code refactoring, performance optimizations, and adherence to best practices.
3.  **Development Planner:** Identifies the next logical steps in the project's development, including completing partially implemented features, adding tests, or improving documentation.
4.  **New Feature Ideator:** Brainstorms and suggests new features that could be added to the project, based on its existing functionality and the capabilities of the ADK.
5.  **Activity Selector:** Reviews all the generated ideas and selects the most valuable activity from each category (improvement, development, and new feature).
6.  **Prompt Generator:** Constructs three distinct, ready-to-use prompts for the Gemini CLI, one for each of the selected activities.
7.  **Report Writer:** Assembles all the gathered information into a clean, well-formatted final report in Markdown.

## Requirements

*   Python 3.8+
*   Google Cloud SDK (`gcloud` CLI) installed and authenticated.
*   A Google Cloud project with billing enabled.
*   Project dependencies as listed in `requirements.txt`.

## Environment Setup

Follow these steps to set up your local environment to run Projalyzer.

1.  **Create a Virtual Environment:**
    It is highly recommended to use a virtual environment to manage project dependencies. From the `projalyzer` directory, run:
    ```bash
    python3 -m venv .venv
    ```

2.  **Activate the Virtual Environment:**
    ```bash
    source .venv/bin/activate
    ```
    *Note: You will need to reactivate the virtual environment in any new terminal session.* 

3.  **Install Dependencies:**
    Install the required Python packages using pip:
    ```bash
    pip install -r requirements.txt
    ```

## Authentication and Google Cloud Configuration

Projalyzer uses the Vertex AI API to power its agents. Proper authentication and API configuration are required.

### 1. Enable Required APIs

The Vertex AI API must be enabled in your Google Cloud project. You can do this via the `gcloud` CLI:

```bash
gcloud services enable aiplatform.googleapis.com --project=YOUR_PROJECT_ID
```
*Replace `YOUR_PROJECT_ID` with your actual Google Cloud project ID.*

### 2. Authenticate Your Accounts

This application operates with two distinct authentication contexts:

*   **gcloud CLI User:** This is your personal account used for administrative actions like enabling APIs. To perform the command in the previous step, this user typically needs the `Service Usage Admin` (`roles/serviceusage.serviceUsageAdmin`) role.

*   **Application Default Credentials (ADC):** This is the credential the Projalyzer application itself uses to call the Vertex AI API. To set this up, run the following command and follow the prompts to log in:
    ```bash
    gcloud auth application-default login
    ```

### 3. Grant IAM Roles for ADC

The principal (user or service account) that you authenticated as the ADC in the previous step needs the following IAM roles granted on your Google Cloud project:

*   **Vertex AI User (`roles/aiplatform.user`):** Allows the application to make calls to the Gemini models on the Vertex AI backend.
*   **Service Usage Consumer (`roles/serviceusage.serviceUsageConsumer`):** Allows the project to be billed for the API usage generated by the application.

## Usage

1.  **Configure Environment Variables:**
    The included `gcenv.sh` script is the recommended way to set the necessary environment variables. First, edit the script to set your `GOOGLE_CLOUD_PROJECT` and `GOOGLE_CLOUD_LOCATION`.

    Then, load the variables into your current terminal session by running:
    ```bash
    source gcenv.sh
    ```

2.  **Run the Analysis:**
    Execute the `main.py` script, providing the absolute path to the project you wish to analyze using the `--project-path` argument.

    **Example:**
    ```bash
    python main.py --project-path /home/user/my-awesome-project
    ```

## Output

*   **Console Output:** As the script runs, you will see a series of progress notifications indicating which step of the analysis is currently being performed. Once the workflow is complete, the final, formatted Markdown report will be printed directly to your console.

*   **Log File:** All verbose, raw output from the agents, including API requests and detailed processing information, is redirected to a log file for debugging purposes. You can find this file at:
    `/tmp/projalyzer_run.log`
